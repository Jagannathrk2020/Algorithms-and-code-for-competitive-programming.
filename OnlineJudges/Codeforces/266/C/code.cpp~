#include <bits/stdc++.h> 

#define MAX 100010 
#define EPS 1e-7

#define ll unsigned long long
#define F first
#define S second 
#define pb push_back
#define mp make_pair 
#define pii pair<int,int> 
#define vi vector<int> 
#define vpii vector<pair<int,int> >
 
using namespace std; 

int n, m, x, y;

int main() {
 
    while(scanf("%d",&n) != EOF){

        ll sum = 0LL, ans = 0LL;
        int a[n];
        ll cont[n];
        for(int i = 0; i < n; i++) cont[i] = 0;

        for(int i = 0; i < n; i++) { scanf("%d", &a[i]); sum += a[i];}
        
        if(sum % 3 != 0) printf("0\n");
        else {
            
            sum = sum/3;
            ll aux = 0;
            for(int i = n-1; i >= 0; i--) { aux += a[i]; if(aux == sum) cont[i] = 1; }
            for(int i = n-2; i >= 0; i--) cont[i] += cont[i+1];   
            
            aux = 0;
            for(int i = 0; i < n-2; i++) {
                aux += a[i];
                if (aux == sum) 
                    ans += cont[i+2];
            }
            cout << ans << endl;
        }
    }

	return 0; 
}
